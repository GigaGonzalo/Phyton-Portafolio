ğŸ Â¡TRY-EXCEPT PYTHON-O-MATIC! ğŸ

Â¡LLEGÃ“ LA REVOLUCIÃ“N EN MANEJO DE ERRORES ELEGANTE!
ğŸ¯ Â¡TRY-EXCEPT EN PYTHON - DOMINA LOS ERRORES COMO UN JEFE!


# âš¡ Â¡BIENVENIDO AL MUNDO DEL MANEJO DE ERRORES! âš¡
print("ğŸŠ Â¡TRY-EXCEPT PYTHON - ERRORES BAJO CONTROL! ğŸŠ")
print("Â¿Cansado de programas que se cierran inesperadamente?")
print("Â¿Frustrado con errores que arruinan tu experiencia?")
print("Â¡TRY-EXCEPT protege tu cÃ³digo! ğŸ’«")

ğŸš€ Â¡TRY-EXCEPT BÃSICO - TU PRIMERA DEFENSA!
âœ¨ ESTRUCTURA FUNDAMENTAL - Â¡ATRAPA ERRORES EN SECUESTRO!


# Â¡EL TRY-EXCEPT MÃS SIMPLE - PROTECCIÃ“N INSTANTÃNEA!
print("ğŸ›¡ï¸ Â¡PROTEGIENDO OPERACIONES PELIGROSAS! ğŸ›¡ï¸")

try:
    # CÃ³digo que PODRÃA fallar
    numero = int(input("ğŸ”¢ Ingresa un nÃºmero: "))
    resultado = 10 / numero
    print(f"âœ… Resultado: 10 / {numero} = {resultado}")
    
except:
    # Â¡QuÃ© hacer SI falla!
    print("âŒ Â¡UPS! Algo saliÃ³ mal. Pero el programa sigue funcionando!")

print("ğŸ‰ Â¡El programa continÃºa sin problemas!")

ğŸ¯ Â¡EXCEPCIONES ESPECÃFICAS - DIAGNÃ“STICO PRECISO!
ğŸ” CAPTURANDO ERRORES ESPECÃFICOS - Â¡TRATAMIENTO DIRIGIDO!


# Â¡CAPTURA ERRORES ESPECÃFICOS - MÃXIMO CONTROL!
print("ğŸ¯ Â¡MANEJANDO ERRORES ESPECÃFICOS! ğŸ¯")

try:
    numero = int(input("ğŸ”¢ Ingresa un nÃºmero: "))
    resultado = 10 / numero
    print(f"âœ… DivisiÃ³n exitosa: {resultado}")
    
except ValueError:
    # Â¡Error cuando la conversiÃ³n a nÃºmero falla!
    print("âŒ Â¡ERROR! Debes ingresar un nÃºmero vÃ¡lido")
    
except ZeroDivisionError:
    # Â¡Error cuando divides entre cero!
    print("âŒ Â¡ERROR! No puedes dividir entre cero")
    
except Exception as e:
    # Â¡Captura CUALQUIER otro error!
    print(f"âš ï¸ Error inesperado: {type(e).__name__} - {e}")

print("ğŸš€ Programa continÃºa imparable!")

ğŸ“Š Â¡EXCEPCIONES COMUNES - CONOCE A TUS ENEMIGOS!
ğŸª LA GALERÃA DE ERRORES - Â¡IDENTIFÃCALOS TODOS!


def demostrar_excepciones_comunes():
    print("ğŸ­ Â¡GALERÃA DE EXCEPCIONES COMUNES! ğŸ­")
    
    # 1. ValueError - ConversiÃ³n invÃ¡lida
    try:
        numero = int("no_soy_un_numero")
    except ValueError as e:
        print(f"ğŸ”¢ ValueError: {e}")
    
    # 2. ZeroDivisionError - DivisiÃ³n por cero
    try:
        resultado = 10 / 0
    except ZeroDivisionError as e:
        print(f"â— ZeroDivisionError: {e}")
    
    # 3. IndexError - Ãndice fuera de rango
    try:
        lista = [1, 2, 3]
        elemento = lista[10]
    except IndexError as e:
        print(f"ğŸ“‹ IndexError: {e}")
    
    # 4. KeyError - Clave no encontrada en diccionario
    try:
        diccionario = {"a": 1, "b": 2}
        valor = diccionario["z"]
    except KeyError as e:
        print(f"ğŸ—ï¸ KeyError: La clave {e} no existe")
    
    # 5. TypeError - OperaciÃ³n en tipo incorrecto
    try:
        resultado = "texto" + 5
    except TypeError as e:
        print(f"ğŸ“ TypeError: {e}")
    
    # 6. FileNotFoundError - Archivo no encontrado
    try:
        with open("archivo_inexistente.txt", "r") as f:
            contenido = f.read()
    except FileNotFoundError as e:
        print(f"ğŸ“ FileNotFoundError: {e}")
    
    # 7. AttributeError - Atributo no existente
    try:
        numero = 10
        numero.upper()
    except AttributeError as e:
        print(f"ğŸ”§ AttributeError: {e}")

# Â¡EJECUTA LA DEMOSTRACIÃ“N!
demostrar_excepciones_comunes()

âš¡ Â¡ELSE Y FINALLY - PODER ADICIONAL!
ğŸª ELSE EN TRY-EXCEPT - Â¡Ã‰XITO GARANTIZADO!


# Â¡ELSE - CUANDO TODO SALE BIEN!
print("ğŸ‰ Â¡TRY-EXCEPT-ELSE - Ã‰XITO CELEBRADO! ğŸ‰")

try:
    numero = int(input("ğŸ”¢ Ingresa un nÃºmero: "))
    resultado = 100 / numero
    
except ValueError:
    print("âŒ Â¡Eso no es un nÃºmero vÃ¡lido!")
    
except ZeroDivisionError:
    print("âŒ Â¡No puedes dividir entre cero!")
    
else:
    # Â¡SOLO se ejecuta si NO hubo excepciones!
    print(f"âœ… Â¡OPERACIÃ“N EXITOSA! Resultado: {resultado}")
    print("ğŸŠ Â¡Todo saliÃ³ perfectamente bien!")

print("ğŸ Continuamos con el programa")

# Â¡FINALLY - SIEMPRE SE EJECUTA!
print("\nğŸ”„ Â¡TRY-EXCEPT-FINALLY - LIMPIEZA GARANTIZADA! ğŸ”„")

try:
    print("ğŸ”“ Abriendo recurso...")
    archivo = open("datos.txt", "w")
    archivo.write("Datos importantes")
    numero = int(input("ğŸ”¢ Ingresa un nÃºmero: "))
    resultado = 10 / numero
    print(f"âœ… Resultado: {resultado}")
    
except (ValueError, ZeroDivisionError) as e:
    print(f"âŒ Error en operaciÃ³n: {e}")
    
finally:
    # Â¡SIEMPRE se ejecuta, haya error o no!
    print("ğŸ§¹ Cerrando recurso...")
    try:
        archivo.close()
        print("ğŸ”’ Recurso cerrado correctamente")
    except:
        print("âš ï¸ El recurso no estaba abierto")

print("ğŸš€ Programa continÃºa imparable")

ğŸ’¼ Â¡PATRONES PRÃCTICOS - USOS DEL MUNDO REAL!
ğŸ›’ VALIDACIÃ“N DE ENTRADAS DE USUARIO


def obtener_entrada_segura():
    print("ğŸ‘¤ Â¡SISTEMA DE REGISTRO SEGURO! ğŸ‘¤")
    
    while True:
        try:
            edad = int(input("ğŸ“… Ingresa tu edad: "))
            
            if edad < 0:
                print("âŒ La edad no puede ser negativa")
                continue
            elif edad > 120:
                print("âŒ Edad poco realista")
                continue
                
            # Si llegamos aquÃ­, la edad es vÃ¡lida
            return edad
            
        except ValueError:
            print("âŒ Â¡Debes ingresar un nÃºmero entero!")
        except KeyboardInterrupt:
            print("\nğŸ‘‹ Registro cancelado por el usuario")
            return None

def obtener_email_seguro():
    print("\nğŸ“§ Â¡VALIDACIÃ“N DE EMAIL! ğŸ“§")
    
    while True:
        try:
            email = input("Ingresa tu email: ")
            
            if "@" not in email or "." not in email:
                raise ValueError("Formato de email invÃ¡lido")
                
            if len(email) < 5:
                raise ValueError("Email demasiado corto")
                
            print(f"âœ… Email vÃ¡lido: {email}")
            return email
            
        except ValueError as e:
            print(f"âŒ Error: {e}")
            print("ğŸ’¡ Ejemplo vÃ¡lido: usuario@dominio.com")

# Â¡USO DEL SISTEMA SEGURO!
# edad = obtener_entrada_segura()
# if edad is not None:
#     print(f"ğŸ‰ Edad registrada: {edad}")

# email = obtener_email_seguro()

ğŸ’¾ MANEJO SEGURO DE ARCHIVOS


def manejo_archivos_seguro():
    print("ğŸ“ Â¡SISTEMA DE ARCHIVOS A PRUEBA DE ERRORES! ğŸ“")
    
    # Intentar leer un archivo
    try:
        with open("configuracion.txt", "r") as archivo:
            contenido = archivo.read()
            print("âœ… Archivo leÃ­do correctamente")
            return contenido
            
    except FileNotFoundError:
        print("âš ï¸ Archivo no encontrado. Creando uno nuevo...")
        
        try:
            with open("configuracion.txt", "w") as archivo:
                archivo.write("configuracion_inicial=1\n")
                archivo.write("idioma=es\n")
            print("âœ… Archivo de configuraciÃ³n creado")
            return "configuracion_inicial=1\nidioma=es\n"
            
        except PermissionError:
            print("âŒ Sin permisos para crear archivo")
            return None
            
    except PermissionError:
        print("âŒ Sin permisos para leer el archivo")
        return None
        
    except Exception as e:
        print(f"âŒ Error inesperado: {e}")
        return None

def procesar_datos_numericos():
    print("\nğŸ”¢ Â¡PROCESAMIENTO SEGURO DE DATOS NUMÃ‰RICOS! ğŸ”¢")
    
    datos = ["10", "20", "treinta", "40", "0", "50"]
    resultados = []
    
    for dato in datos:
        try:
            numero = float(dato)
            resultado = 100 / numero if numero != 0 else "Indefinido"
            resultados.append(resultado)
            print(f"âœ… {dato} â†’ {resultado}")
            
        except ValueError:
            print(f"âŒ '{dato}' no es un nÃºmero vÃ¡lido - Omitiendo")
            resultados.append("Error conversiÃ³n")
            
        except ZeroDivisionError:
            print(f"âš ï¸ DivisiÃ³n por cero con '{dato}' - Asignando 'Infinito'")
            resultados.append("Infinito")
    
    return resultados

# Â¡EJECUTAR SISTEMAS SEGUROS!
# contenido = manejo_archivos_seguro()
# resultados = procesar_datos_numericos()
# print(f"ğŸ“Š Resultados: {resultados}")

ğŸ¨ Â¡EXCEPCIONES PERSONALIZADAS - ERRORES A TU MEDIDA!
âš¡ CREANDO TUS PROPIOS ERRORES - Â¡PODER TOTAL!


# Â¡EXCEPCIONES PERSONALIZADAS - ERRORES ESPECÃFICOS!
class SaldoInsuficienteError(Exception):
    """ExcepciÃ³n personalizada para saldo insuficiente"""
    def __init__(self, saldo_actual, monto_solicitado):
        self.saldo_actual = saldo_actual
        self.monto_solicitado = monto_solicitado
        super().__init__(f"Saldo insuficiente: ${saldo_actual}. Se requieren: ${monto_solicitado}")

class EdadInvalidaError(Exception):
    """ExcepciÃ³n personalizada para edad invÃ¡lida"""
    pass

class CuentaBancaria:
    def __init__(self, saldo_inicial=0):
        self.saldo = saldo_inicial
    
    def retirar(self, monto):
        try:
            if monto <= 0:
                raise ValueError("El monto debe ser positivo")
            
            if monto > self.saldo:
                raise SaldoInsuficienteError(self.saldo, monto)
            
            self.saldo -= monto
            print(f"âœ… Retiro exitoso: ${monto}. Saldo restante: ${self.saldo}")
            
        except SaldoInsuficienteError as e:
            print(f"âŒ {e}")
        except ValueError as e:
            print(f"âŒ Error de valor: {e}")
    
    def depositar(self, monto):
        try:
            if monto <= 0:
                raise ValueError("El monto de depÃ³sito debe ser positivo")
            
            self.saldo += monto
            print(f"ğŸ’° DepÃ³sito exitoso: ${monto}. Nuevo saldo: ${self.saldo}")
            
        except ValueError as e:
            print(f"âŒ Error en depÃ³sito: {e}")

def validar_edad_personalizada(edad):
    try:
        if edad < 0:
            raise EdadInvalidaError("La edad no puede ser negativa")
        if edad > 120:
            raise EdadInvalidaError("Edad poco realista")
        if edad < 18:
            raise EdadInvalidaError("Debes ser mayor de edad")
        
        print(f"âœ… Edad vÃ¡lida: {edad} aÃ±os")
        
    except EdadInvalidaError as e:
        print(f"âŒ Error de validaciÃ³n: {e}")

# Â¡USO DE EXCEPCIONES PERSONALIZADAS!
print("ğŸ¦ Â¡SISTEMA BANCARIO CON ERRORES PERSONALIZADOS! ğŸ¦")
cuenta = CuentaBancaria(1000)
cuenta.depositar(500)
cuenta.retirar(2000)  # Â¡ProvocarÃ¡ SaldoInsuficienteError!

print("\nğŸ‘¤ Â¡VALIDACIÃ“N DE EDAD PERSONALIZADA! ğŸ‘¤")
validar_edad_personalizada(25)
validar_edad_personalizada(150)  # Â¡ProvocarÃ¡ EdadInvalidaError!
validar_edad_personalizada(15)   # Â¡ProvocarÃ¡ EdadInvalidaError!

ğŸ”„ Â¡PATRONES AVANZADOS - MANEJO ELEGANTE!
ğŸ¯ MANEJO DE MÃšLTIPLES EXCEPCIONES


def procesador_universal(datos):
    print("ğŸ”„ Â¡PROCESADOR UNIVERSAL A PRUEBA DE ERRORES! ğŸ”„")
    
    for i, dato in enumerate(datos, 1):
        try:
            print(f"\nğŸ“¦ Procesando elemento {i}: '{dato}'")
            
            # Intentar mÃºltiples operaciones peligrosas
            if isinstance(dato, str):
                numero = float(dato)
                resultado = 100 / numero
                print(f"âœ… ConversiÃ³n y divisiÃ³n exitosa: {resultado}")
                
            elif isinstance(dato, (list, dict)):
                elemento = dato[0] if isinstance(dato, list) else dato["clave"]
                print(f"âœ… Acceso a estructura: {elemento}")
                
            else:
                raise TypeError(f"Tipo no soportado: {type(dato)}")
                
        except (ValueError, ZeroDivisionError) as e:
            print(f"âŒ Error matemÃ¡tico: {e}")
            
        except (IndexError, KeyError) as e:
            print(f"âŒ Error de acceso: {e}")
            
        except TypeError as e:
            print(f"âŒ Error de tipo: {e}")
            
        except Exception as e:
            print(f"âš ï¸ Error inesperado: {type(e).__name__} - {e}")
            
        else:
            print("ğŸ‰ Â¡Procesamiento completado sin errores!")
            
        finally:
            print("ğŸ§¹ Limpieza de recursos completada")

# Â¡DATOS DE PRUEBA CON VARIOS ERRORES!
datos_prueba = ["10", "0", "texto", [1, 2], {"clave": "valor"}, None, "5"]
procesador_universal(datos_prueba)

ğŸ—ï¸ CONTEXTO SEGURO CON WITH Y TRY


class GestorRecurso:
    """Administrador de recursos con manejo seguro de errores"""
    
    def __init__(self, nombre):
        self.nombre = nombre
        self.abierto = False
    
    def __enter__(self):
        print(f"ğŸ”“ Abriendo recurso: {self.nombre}")
        self.abierto = True
        return self
    
    def __exit__(self, exc_type, exc_val, exc_tb):
        print(f"ğŸ”’ Cerrando recurso: {self.nombre}")
        self.abierto = False
        
        if exc_type is not None:
            print(f"âš ï¸ Error durante uso: {exc_type.__name__} - {exc_val}")
            # Retornar True para suprimir la excepciÃ³n
            return True
        
        return False
    
    def operacion_riesgosa(self):
        if not self.abierto:
            raise RuntimeError("Recurso no abierto")
        
        # Simular operaciÃ³n que podrÃ­a fallar
        if self.nombre == "peligroso":
            raise ValueError("Â¡OperaciÃ³n peligrosa fallÃ³!")
        
        print(f"âœ… OperaciÃ³n exitosa en {self.nombre}")

def demostrar_contexto_seguro():
    print("ğŸ—ï¸ Â¡MANEJO DE CONTEXTO SEGURO! ğŸ—ï¸")
    
    # Uso seguro con with
    with GestorRecurso("seguro") as recurso:
        recurso.operacion_riesgosa()
    
    print("\nâš ï¸ Manejo de error en contexto:")
    with GestorRecurso("peligroso") as recurso:
        recurso.operacion_riesgosa()  # Esto generarÃ¡ un error
    
    print("ğŸ¯ El programa continÃºa gracias al manejo seguro")

# Â¡EJECUTAR DEMOSTRACIÃ“N!
demostrar_contexto_seguro()

ğŸ’» Â¡SISTEMA COMPLETO DEL MUNDO REAL!
ğŸ›’ CARRITO DE COMPRAS A PRUEBA DE ERRORES


class CarritoComprasSeguro:
    def __init__(self):
        self.productos = []
        self.saldo = 1000
    
    def agregar_producto(self, nombre, precio, cantidad=1):
        try:
            if not nombre or not isinstance(nombre, str):
                raise ValueError("Nombre de producto invÃ¡lido")
            
            if precio <= 0:
                raise ValueError("El precio debe ser positivo")
            
            if cantidad <= 0:
                raise ValueError("La cantidad debe ser positiva")
            
            producto = {
                "nombre": nombre,
                "precio": float(precio),
                "cantidad": int(cantidad)
            }
            
            self.productos.append(producto)
            print(f"âœ… '{nombre}' agregado al carrito")
            
        except (ValueError, TypeError) as e:
            print(f"âŒ Error al agregar producto: {e}")
    
    def procesar_compra(self):
        print("\nğŸ’° Â¡PROCESANDO COMPRA! ğŸ’°")
        
        try:
            if not self.productos:
                raise ValueError("El carrito estÃ¡ vacÃ­o")
            
            total = sum(p["precio"] * p["cantidad"] for p in self.productos)
            print(f"ğŸ“Š Total de la compra: ${total:.2f}")
            
            if total > self.saldo:
                raise SaldoInsuficienteError(self.saldo, total)
            
            # Simular procesamiento de pago
            self.saldo -= total
            print("âœ… Â¡Pago procesado exitosamente!")
            print(f"ğŸ’³ Saldo restante: ${self.saldo:.2f}")
            
            self.productos = []  # Vaciar carrito
            
        except ValueError as e:
            print(f"âŒ Error en compra: {e}")
        except SaldoInsuficienteError as e:
            print(f"âŒ {e}")
        except Exception as e:
            print(f"âš ï¸ Error inesperado: {e}")
        finally:
            print("ğŸ›’ Proceso de compra finalizado")
    
    def mostrar_carrito(self):
        print("\nğŸ›’ CONTENIDO DEL CARRITO:")
        if not self.productos:
            print("   El carrito estÃ¡ vacÃ­o")
            return
        
        for i, producto in enumerate(self.productos, 1):
            print(f"   {i}. {producto['nombre']} - ${producto['precio']} x {producto['cantidad']}")

# Â¡SISTEMA EN ACCIÃ“N!
print("ğŸ›’ Â¡CARRITO DE COMPRAS A PRUEBA DE ERRORES! ğŸ›’")
carrito = CarritoComprasSeguro()

# Agregar productos (algunos con errores)
carrito.agregar_producto("Laptop", 1000)
carrito.agregar_producto("Mouse", 25.50, 2)
carrito.agregar_producto("", 50)  # Error: nombre invÃ¡lido
carrito.agregar_producto("Teclado", -10)  # Error: precio negativo
carrito.agregar_producto("Monitor", 300, "dos")  # Error: cantidad invÃ¡lida

carrito.mostrar_carrito()
carrito.procesar_compra()

ğŸŠ Â¡RESUMEN FINAL DE TRY-EXCEPT!

Â¿QUÃ‰ OBTIENES CON TRY-EXCEPT EN PYTHON?

    âœ… Estabilidad - Programas que no se caen

    âœ… Robustez - Manejo elegante de errores

    âœ… Experiencia de usuario - Mensajes claros

    âœ… Debugging fÃ¡cil - IdentificaciÃ³n precisa de problemas

    âœ… CÃ³digo profesional - Aplicaciones listas para producciÃ³n

Â¡BLOQUES CLAVE!

    ğŸ¯ try - CÃ³digo que podrÃ­a fallar

    ğŸ›¡ï¸ except - Manejo de errores especÃ­ficos

    ğŸ‰ else - EjecuciÃ³n cuando no hay errores

    ğŸ§¹ finally - Limpieza que siempre se ejecuta

Â¡EXCEPCIONES COMUNES!

    ğŸ”¢ ValueError - Valor inapropiado

    â— ZeroDivisionError - DivisiÃ³n por cero

    ğŸ“‹ IndexError - Ãndice fuera de rango

    ğŸ—ï¸ KeyError - Clave no encontrada

    ğŸ“ TypeError - Tipo incorrecto

    ğŸ“ FileNotFoundError - Archivo no existe

Â¡NO ESPERES MÃS! â°
Â¡DOMINA TRY-EXCEPT Y CREA CÃ“DIGO INDESTRUCTIBLE!


# Â¡TU PODER FINAL CON TRY-EXCEPT!
def demostrar_poder_final():
    try:
        print("ğŸŠ Â¡FELICIDADES! Ahora eres un:")
        print("ğŸ MAESTRO DEL MANEJO DE ERRORES EN PYTHON")
        print("ğŸ’ª Tu cÃ³digo serÃ¡ robusto y profesional")
        
        # Simular Ã©xito total
        resultado = "Ã‰XITO ABSOLUTO"
        
    except Exception as e:
        print(f"âŒ Algo saliÃ³ mal: {e}")
        
    else:
        print(f"âœ… {resultado} - Todo funcionÃ³ perfectamente")
        
    finally:
        print("ğŸš€ Â¡EstÃ¡s listo para crear aplicaciones del mundo real!")

# Â¡EJECUTA TU PODER!
demostrar_poder_final()

Â¡TRY-EXCEPT ES EL SISTEMA INMUNE DE PYTHON, Y AHORA PROTEGE TU CÃ“DIGO! ğŸ›¡ï¸ğŸ